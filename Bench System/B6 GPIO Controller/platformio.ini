; PlatformIO Project Configuration
; B6 — GPIO Controller ESP32 (Node 13)
; Upstream RS485 (Hub Ch 4) + GPIO (valves, tower, E-stop) + sensors
;
; GPIO: SV1, BV-L1/L2/L3, DV1, SV-DRN, Tower R/Y/G, ESTOP_MON
; I2C: BME280 (ATM-TEMP, ATM-HUM, ATM-BARO)
; 1-Wire: DS18B20 (RES-TEMP)
; Ultrasonic: HC-SR04 (RES-LVL)
; Protocol: JSON lines over RS485 (115200)
;
; Two build environments:
;   esp32        — full build with sensor libraries (requires network for first install)
;   esp32-gpio   — GPIO-only build (no sensor libraries needed)

[env:esp32]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
lib_deps =
    bblanchon/ArduinoJson@^7.0
    adafruit/Adafruit BME280 Library@^2.2
    adafruit/Adafruit Unified Sensor@^1.1
    paulstoffregen/OneWire@^2.3
    milesburton/DallasTemperature@^3.11
build_flags =
    -DCORE_DEBUG_LEVEL=0
    -DHAS_SENSORS=1

[env:esp32-gpio]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
lib_deps =
    bblanchon/ArduinoJson@^7.0
build_flags =
    -DCORE_DEBUG_LEVEL=0
    -DHAS_SENSORS=0
